@model IEnumerable<Rastrealo.Models.route>

<table id="sortableTable" class="table table-striped" style="text-align: center;">
    <thead>
        <th>Bus No</th>
        <th>Bus Route</th>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="stop" data-rowid="@Html.DisplayFor(modelItem => item.routeId)" data-stop="@Html.DisplayFor(modelItem => item.stopName)">
                <td>
                    @Html.DisplayFor(modelItem => item.busId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.stopName)
                </td>
            </tr>
        }
    </tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
    const searchInput = document.getElementById('searchInput');
    const stopList = document.querySelectorAll('.stop');
    let selectedRowId = null;
    searchInput.addEventListener('input', function () {
        const searchTerm = searchInput.value.toLowerCase();
        for (const stop of stopList) {
            const stopName = stop.getAttribute('data-stop').toLowerCase();
            if (stopName.includes(searchTerm)) {
                stop.classList.remove('d-none');
            } else {
                stop.classList.add('d-none');
            }
        }
    });

</script>